SET LINESIZE 200

COLUMN grantee    FORMAT A20
COLUMN owner      FORMAT A20
COLUMN table_name FORMAT A20
COLUMN grantor    FORMAT A20
COLUMN privilege  FORMAT A20

  SELECT *
    FROM dba_tab_privs
   WHERE grantee = 'XXPAY'
     AND table_name in ('UTL_SMTP','UTL_TCP')
ORDER BY table_name;


SQL> grant execute on SYS.DBMS_LOCK TO XXPAY;
SQL> grant execute on SYS.DBMS_STANDARD TO CLASS;
SQL> grant execute on sys.standard to CLASS;
SQL>

COLUMN SYSTEM_GRANTS FORMAT A50

  SELECT 'GRANT ' || PRIVILEGE || ' TO ' || GRANTEE || DECODE(ADMIN_OPTION, 'YES', ' WITH ADMIN OPTION', NULL) || ';' SYSTEM_GRANTS
    FROM DBA_SYS_PRIVS
   WHERE GRANTEE='XXPAY';

COLUMN ROLE_GRANTS FORMAT A50

  SELECT 'GRANT ' || GRANTED_ROLE || ' TO ' || GRANTEE || DECODE(ADMIN_OPTION, 'YES', ' WITH ADMIN OPTION', NULL) || ';' ROLE_GRANTS
    FROM DBA_ROLE_PRIVS
   WHERE GRANTEE='XXPAY';

COLUMN OBJECT_GRANTS FORMAT A50

  SELECT 'GRANT ' || PRIVILEGE || ' ON ' || OWNER || '.' || TABLE_NAME || ' TO ' || GRANTEE || DECODE(GRANTABLE, 'YES', ' WITH GRANT OPTION', NULL) || ';' OBJECT_GRANTS
    FROM DBA_TAB_PRIVS
   WHERE GRANTEE='XXPAY';

